@page
@model Medicinaese.Pages.ficha_medicaModel
@{
    ViewData["Title"] = "Ficha Médica";
}

<!-- Contenedor principal con fondo azul claro -->
<div class="full-wrapper p-4 rounded shadow-sm">
    <div class="container">
        <!-- Encabezado -->
        <div class="top-section text-center mb-1">
            <img src="~/img/logosinfondo.png" alt="Doctor Now Logo" class="logo-img mb-3">
        </div>
        <!-- Formulario -->
        <div class="form-container">
            <form method="post">
                <!-- Encabezado del formulario -->
                <div class="form-header text-center mb-4">
                    <h2 class="text-primary">Ficha Médica</h2>
                </div>

                <!-- Datos Personales -->
                <fieldset class="mb-4 p-3 border rounded">
                    <legend class="text-dark fw-bold">Datos Personales</legend>
                    <div class="row">
                        <div class="col-md-6">
                            <label for="nombre" class="form-label">Nombre:</label>
                            <input type="text" class="form-control" asp-for="Nombre" placeholder="Nombre">
                        </div>
                        <div class="col-md-6">
                            <label for="apellidos" class="form-label">Apellidos:</label>
                            <input type="text" class="form-control" asp-for="Apellidos" placeholder="Apellidos">
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <label for="fecha_nacimiento" class="form-label">Fecha de nacimiento:</label>
                            <input type="date" class="form-control" asp-for="FechaNacimiento">
                        </div>
                        <div class="col-md-6">
                            <label for="lugar_nacimiento" class="form-label">Lugar de nacimiento:</label>
                            <input type="text" class="form-control" asp-for="LugarNacimiento" placeholder="Lugar de nacimiento">
                        </div>
                    </div>
                </fieldset>

                <!-- Información Médica -->
                <fieldset class="mb-4 p-3 border rounded">
                    <legend class="text-dark fw-bold">Información Médica</legend>
                    <div class="row">
                        <div class="col-md-4">
                            <label for="edad" class="form-label">Edad:</label>
                            <input type="number" class="form-control" asp-for="Edad" placeholder="Edad">
                        </div>
                        <div class="col-md-4">
                            <label for="altura" class="form-label">Altura:</label>
                            <input type="number" class="form-control" asp-for="Altura" placeholder="Altura (m)">
                        </div>
                        <div class="col-md-4">
                            <label for="peso" class="form-label">Peso:</label>
                            <input type="number" class="form-control" asp-for="Peso" placeholder="Peso (kg)">
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <label for="grupo_sanguineo" class="form-label">Grupo Sanguíneo:</label>
                            <select class="form-select" asp-for="GrupoSanguineo">
                                <option value="" selected disabled>Selecciona una opción</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="estado_civil" class="form-label">Estado Civil:</label>
                            <select class="form-select" asp-for="EstadoCivil">
                                <option value="" selected disabled>Selecciona una opción</option>
                                <option value="Soltero">Soltero/a</option>
                                <option value="Casado">Casado/a</option>
                                <option value="Divorciado">Divorciado/a</option>
                                <option value="Viudo">Viudo/a</option>
                                <option value="Unión Libre">Unión libre</option>
                                <option value="Separado">Separado/a</option>
                                <option value="Comprometido">Comprometido/a</option>
                                <option value="Otro">Otro</option>
                            </select>
                        </div>
                    </div>
                </fieldset>

                <!-- Botón Guardar -->
                <div class="text-center">
                    <button type="button" class="btn btn-primary px-4 py-2" id="guardarBtn">Guardar</button>
                </div>

            </form>
        </div>
    </div>
</div>


@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.getElementById("guardarBtn").addEventListener("click", function() {
            Swal.fire({
                title: "¿Está seguro?",
                text: "¿Desea guardar esta ficha médica?",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sí, guardar"
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        title: "Guardado",
                        text: "La ficha médica ha sido guardada exitosamente.",
                        icon: "success",
                        confirmButtonText: "Aceptar"
                    }).then(() => {
                        document.querySelector("form").submit(); // Envía el formulario
                    });
                }
            });
        });
    </script>
}
